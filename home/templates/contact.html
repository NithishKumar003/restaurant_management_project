{% load static %}
{% load tz %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title> Contact Us </title>
    </head>
    <body style="font-family: Airel, sans-serif; background-color: #f9f9f9; margin:0; padding:0;">
    
        <form id="contactForm" style="display: flex; flex-direction: column; gap: 15px;" action="{% url 'contact_page' %}" method="post">
            {% csrf_token %}

            <label for="id_name" style="font-weight: bold; color: #333"> Name: </label><br>
            {{ form.name }}<br>
            {% for error in form.name.errors %}
                <span style="color: red; font-size: 13px;">{{ error }}</span><br>
            {% endfor %}

            <label for="id_email" style="font-weight: bold; color: #333;"> Email: </label><br>
            {{ form.email }}<br>
            {% for error in form.email.errors %}
                <span style="color: red; font-size:13px"> {{ error }}</span><br>
            {% endfor %}

            <label for="id_message" style="font-weight: bold; color:#333;"> Message: </label><br>
            {{ form.message }}<br>
            {% for error in form.message.errors %}
                <span style="color:red; font-size: 13px;">{{ error }}</span><br>
            {% endfor %}

            <br>
            <button type="submit" style="padding: 12px; background: #4caf50; color: white; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; transition: 0.3s;">
                Send
            </button>
        </form>
        <script>
            document.getElementById("contactForm").addEventListener("submit", function(event) {
                let name = document.getElementById("name").value.trim();
                let email = document.getElementById("email").value.trim();

                if (name === "" || email === "") {
                    alert("Please fill in both Name and Email fields.");
                    event.preventDefault();
                }
            });
        </script>

        {% if restaurant_info %}
            <div style = "margin-top: 40px; text-align: center;">
                <h2 style="color: #333">Our Address</h2>
                <p style="font-size: 16px; color: #555;">{{ restaurant_info.location }}</p>
                <p style="font-size: 16px; color: #555;">{{ restaurant_info.phone }}</p>
            </div>
        {% endif %}

        <footer>
            {% now "Y" as current_year %}
            {% include 'footer.html' with current_year=current_year restaurant_name=restaurant_name opening_hours=opening_hours %}
        </footer>
    </body>
</html>
